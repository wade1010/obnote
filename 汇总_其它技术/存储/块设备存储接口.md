块设备是i/o设备中的⼀类，是将信息存储在固定⼤⼩的块中，每个块都有⾃⼰的地址，还可以在设备的任意位置读取⼀定⻓度的数据。看不懂？那就暂且认为块设备就是硬盘或虚拟硬盘吧。

查看下Linux环境中的设备：

```
$ ls /dev/
/dev/sda/ dev/sda1 /dev/sda2 /dev/sdb /dev/sdb1 /dev/hda
/dev/rbd1 /dev/rbd2 …

```

下面介绍一下块设备

上⾯的/dev/sda、/dev/sdb和/dev/hda都是块设备⽂件。当给计算机连接块设备（硬盘）后，系统检测的有新的块设备，该类型块设备的驱动程序就在/dev/下创建个对应的块设备设备⽂件，⽤户就可以通过设备⽂件使⽤该块设备了。以sd开头的块设备⽂件对应的是SATA接⼝的硬盘，⽽以hd开头的块设备⽂件对应的是IDE接⼝的硬盘。那SATA接⼝的硬盘跟IDE接⼝的硬盘有啥区别？你只需要知道，IDE接⼝硬盘已经很少⻅到了，逐渐被淘汰中，⽽SATA接⼝的硬盘是⽬前的主流。⽽sda和sdb的区别呢？当系统检测到多个SATA硬盘时，会根据检测到的顺序对硬盘设备进⾏字⺟顺序的命名。

rbd(rados block devices)就是由ceph集群提供出来的块设备。可以这样理解，sda和hda都是通过数据线连接到了真实的硬盘，⽽rbd是通过⽹络连接到了ceph集群中的⼀块存储区域，往rbd设备⽂件写⼊数据，最终会被存储到ceph集群的这块区域中。

那么块设备怎么⽤呢？这⾥举个例⼦：

打个⽐⽅，⼀个块设备是⼀个粮仓，数据就是粮⻝。农⺠伯伯可以存粮⻝（写数据）了，需要存100⽄⽟⽶，粮仓（块设备）这么⼤放哪⾥呢，就挨着放（顺序写）吧。⼜需要存1000⽄花⽣，还是挨着放吧。⼜需要存……

后来，农⺠伯伯来提粮⻝（读数据）了，他当时存了1000⽄⼩⻨，哎呀妈呀，粮仓这么⼤，⼩⻨在哪⾥啊？仓库管理员找啊找，然后哭晕在了厕所……

新管理员到任后，想了个法⼦来解决这个问题，⽤油漆把仓库划分成了⽅格状，并且编了号，在仓库⻔⼝的⽅格那挂了个⿊板，当农⺠伯伯来存粮⻝时，管理员在⿊板记录，张三存了1000⽄⼩⻨在xx⽅格处。后来，农⺠伯伯张三来取粮⻝时，仓库管理员根据⼩⿊板的记录很快提取了粮⻝。故事到此为⽌了

没有⽅格和⿊板的仓库（块设备）称为裸设备。由上例可⻅，裸设备对于⽤户使⽤是很不友好的，直接导致了旧仓库管理员的狗带。例⼦中划分⽅格和挂⿊板的过程其实是在块设备上构建⽂件系统的过程，⽂件系统可以帮助块设备对存储空间进⾏条理的组织和管理，于是新管理员通过⽂件系统（格⼦和⿊板）迅速找到了⽤户（农⺠伯伯张三）存储的数据（1000⽄⼩⻨）。

针对多种多样的使⽤场景，衍⽣出了很多的⽂件系统。有的⽂件系统能够提供更好的读性能，有的⽂件系统能提供更好的写性能。我们平时常⽤的⽂件系统如xfs、ext4是读写性能等各⽅⾯⽐较均衡的通⽤⽂件系统。

能否直接使⽤不含有⽂件系统块设备呢？可以的，xfs和ext4等通⽤的⽂件系统旨在满⾜⼤多数⽤户的存储需求，所以在数据存储的各⽅⾯的性能⽐较均衡。然⽽，很多应⽤往往并不需要这种均衡，⽽需要突出某⼀⽅⾯的性能，如⼩⽂件的存储性能。此时，xfs、ext4等通⽤⽂件系统如果不能满⾜应⽤的需求，应⽤往往会在裸设备上实现⾃⼰的数据组织和管理⽅式。简单的说，就是应⽤为了强化某种存储特性⽽实现⾃⼰定制的数据组织和管理⽅式，⽽不使⽤通⽤的⽂件系统。

总结⼀下，块设备可理解成⼀块硬盘，⽤户可以直接使⽤不含⽂件系统的块设备，也可以将其格式化成特定的⽂件系统，由⽂件系统来组织管理存储空间，从⽽为⽤户提供丰富⽽友好的数据操作⽀持。