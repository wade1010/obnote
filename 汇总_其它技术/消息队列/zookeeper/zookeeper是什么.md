

![](https://gitee.com/hxc8/images7/raw/master/img/202407190030238.jpg)





kafka依赖zookeeper主要使用了zookeeper里面的配置管理和leader election和服务发现











zookeeper工作方式



![](https://gitee.com/hxc8/images7/raw/master/img/202407190030757.jpg)







kafka不管是读还是写都是要通过leader





