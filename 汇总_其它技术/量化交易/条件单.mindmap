{"nodes":[{"id":"root","isroot":true,"topic":"流程","parentid":null,"customStyle":{},"expanded":true,"style":{}},{"id":"d8ce1eac1fb1c675","topic":"获取条件单列表","customStyle":{"borderColor":"#4D94FF"},"expanded":true,"parentid":"root","style":{}},{"id":"d8ce57780213d171","topic":"初始化触发的数量和买卖量","customStyle":{"borderColor":"#1BD5D2"},"expanded":true,"parentid":"root","style":{}},{"id":"da58087bcb4001ee","topic":"进入循环","customStyle":{"borderColor":"#1DDA70"},"expanded":true,"parentid":"root","style":{}},{"id":"da5a5acb20650e89","topic":"判断是否是交易时间","customStyle":{},"expanded":true,"parentid":"da58087bcb4001ee","style":{}},{"id":"da5a5da823c35b8f","topic":"判断是否是午休时间","customStyle":{},"expanded":true,"parentid":"da5a5acb20650e89","style":{}},{"id":"da5a5fc971c7a5ac","topic":"判断是否要重新获取条件单列表","customStyle":{},"expanded":true,"parentid":"da5a5da823c35b8f","style":{}},{"id":"da5b83b34b3021bc","topic":"过滤条件单","customStyle":{},"expanded":true,"parentid":"da5a5fc971c7a5ac","style":{}},{"id":"da5b8540cb38b53e","topic":"判断过滤后是否还有符合的条件单","customStyle":{},"expanded":true,"parentid":"da5b83b34b3021bc","style":{}},{"id":"da5b8b9a4da459bb","topic":"获取target_symbol","customStyle":{},"expanded":true,"parentid":"da58087bcb4001ee","style":{}},{"id":"da5b9101a947a636","topic":"获取traded_dict","customStyle":{},"expanded":true,"parentid":"da5b8b9a4da459bb","style":{}},{"id":"da5b94e7ec3c3875","topic":"获取full_tick","customStyle":{},"expanded":true,"parentid":"da5b9101a947a636","style":{}},{"id":"da5b8faedfb8eaf2","topic":"更新new_base_price","customStyle":{},"expanded":true,"parentid":"da58087bcb4001ee","style":{}},{"id":"da5bc3f6ada2f731","topic":"更新数据库字段\n# today_trigger_buy_num\n# today_trigger_sell_num\n# total_trigger_buy_num\n# total_trigger_sell_num\n# total_trigger_buy_volume\n# total_trigger_sell_volume\n","customStyle":{},"expanded":true,"parentid":"da5b8faedfb8eaf2","style":{}},{"id":"da5d25dee196b760","topic":"获取position_dict和entrust_dict","customStyle":{},"expanded":true,"parentid":"da58087bcb4001ee","style":{}},{"id":"da5d2abcf166b97a","topic":"循环条件单","customStyle":{},"expanded":true,"parentid":"da58087bcb4001ee","style":{}},{"id":"da5d45b25a43f0b9","topic":"获取单个标的的code_full_tick","customStyle":{},"expanded":true,"parentid":"da5d2abcf166b97a","style":{}},{"id":"da5d4a8c2261ba9f","topic":"判断lastPrice是否正常","customStyle":{},"expanded":true,"parentid":"da5d45b25a43f0b9","style":{}},{"id":"da5d4e64a652aafc","topic":"不正常则跳过，进入下一次循环","customStyle":{},"expanded":true,"parentid":"da5d4a8c2261ba9f","style":{}},{"id":"da5d78d9915337ea","topic":"判断价格范围","customStyle":{},"expanded":true,"parentid":"da5d2abcf166b97a","style":{}},{"id":"da5de8eb78ccfc9f","topic":"不符合要求则判断是否设置超出范围就终止条件单并清仓","customStyle":{},"expanded":true,"parentid":"da5d78d9915337ea","style":{}},{"id":"da5e22f0e1a80190","topic":"获取base_price","customStyle":{},"expanded":true,"parentid":"da5d2abcf166b97a","style":{}},{"id":"da5e41c0e20382d6","topic":"根据base_price类型和traded_list返回最终的base_price","customStyle":{},"expanded":true,"parentid":"da5e22f0e1a80190","style":{}},{"id":"da5ead864ac93772","topic":"如果返回base_price为None则跳过进入下一个循环","customStyle":{},"expanded":true,"parentid":"da5d2abcf166b97a","style":{}},{"id":"da5eb1bf7734355f","topic":"尝试挂卖单","customStyle":{},"expanded":true,"parentid":"da5d2abcf166b97a","style":{}},{"id":"da5ed726175dd042","topic":"判断can_use_volue是否大于0、\n判断预先委托的委托类型是否正确\n","customStyle":{},"expanded":true,"parentid":"da5eb1bf7734355f","style":{}},{"id":"da5f05599be503f0","topic":"生成网格\ngenerate_price_grid","customStyle":{},"expanded":true,"parentid":"da5ed726175dd042","style":{}},{"id":"da5f0c763099c7ff","topic":"获取触发价格和数量\nget_sell_trigger_price_and_volume\n","customStyle":{},"expanded":true,"parentid":"da5f05599be503f0","style":{}},{"id":"da5f4b659c913e71","topic":"判断can_use_volume是否\n满足返回的触发数量","customStyle":{},"expanded":true,"parentid":"da5f0c763099c7ff","style":{}},{"id":"da5f695d76ee3a15","topic":"判断委托卖单是否是最近的一个卖单网格的价格","customStyle":{},"expanded":true,"parentid":"da5eb1bf7734355f","style":{}},{"id":"da5f7f43288cfa00","topic":"如果有，判断是否会出现低卖高买","customStyle":{},"expanded":true,"parentid":"da5f695d76ee3a15","style":{}},{"id":"da5fa29a99b5061e","topic":"获取price_type","customStyle":{},"expanded":true,"parentid":"da5eb1bf7734355f","style":{}},{"id":"da5fa63079cb6b71","topic":"如果不合法则直接返回","customStyle":{},"expanded":true,"parentid":"da5fa29a99b5061e","style":{}},{"id":"da5fa96775b6e8cb","topic":"挂卖单","customStyle":{},"expanded":true,"parentid":"da5eb1bf7734355f","style":{}},{"id":"da5eb38171454f99","topic":"尝试挂买单","customStyle":{},"expanded":true,"parentid":"da5d2abcf166b97a","style":{}},{"id":"da5fb32f8e76a5c6","topic":"判断can_use_volue是否大于0、\n判断预先委托的委托类型是否正确","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da602df8c0e7cf1d","topic":"生成网格\ngenerate_price_grid","customStyle":{},"expanded":true,"parentid":"da5fb32f8e76a5c6","style":{}},{"id":"da603a9afd66b187","topic":"查看当前涨幅是否超过设置的最大涨幅，如果超过，就不挂买单（这个配置未实现）","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da60447cf5070e3d","topic":"获取触发价格和数量\nget_buy_trigger_price_and_volume\n","customStyle":{},"expanded":true,"parentid":"da603a9afd66b187","style":{}},{"id":"da604a402312d3f4","topic":"判断是否正确获取触发价格和数量\n如果不正常则取消委托中的买单后重试重新获取触发价和数量","customStyle":{},"expanded":true,"parentid":"da60447cf5070e3d","style":{}},{"id":"da605aa70b9ee818","topic":"判断有没有委托买单，有的话判断该买单是否为最近一个网格价格","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da6060b7e16e5c76","topic":"如果没有成交的买卖单着判断 blow_percent（配置未实现todo）","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da60731988d5e04f","topic":"判断是是否有已成交的卖单","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da6077602bd8881a","topic":"如果有，则判断是否出现高买低卖，根据情况返回是否可以挂买单","customStyle":{},"expanded":true,"parentid":"da60731988d5e04f","style":{}},{"id":"da60990c77e36429","topic":"如果没有，判断是否有已成交的买单，根据情况返回是否可以挂买单","customStyle":{},"expanded":true,"parentid":"da60731988d5e04f","style":{}},{"id":"da60a8b49c73d880","topic":"获取price_type","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da60a8c748a3fda6","topic":"如果不合法则直接返回","customStyle":{},"expanded":true,"parentid":"da60a8b49c73d880","style":{}},{"id":"da60aaeaaffd1727","topic":"挂买单","customStyle":{},"expanded":true,"parentid":"da5eb38171454f99","style":{}},{"id":"da61182748e29190","topic":"判断是否是竞价后第一次挂单，如果是则进入休眠到快开盘","customStyle":{},"expanded":true,"parentid":"da58087bcb4001ee","style":{}}],"readOnly":false,"toolbar":{"lineType":"default","strategy":"logic_right","zoom":1,"loading":true,"borderColor":"#4D94FF"},"remarks":{},"version":"2.0"}