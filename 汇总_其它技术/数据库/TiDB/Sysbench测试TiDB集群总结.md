1、操作系统版本:

CentOS7.9



2、服务器建议配置:

| 实例 | 个数 | 物理机配置 | IP | 配置 |
| - | - | - | - | - |
| TiDB | 3 | 40核 250GB<br> (nvme ssd) \* 2 | 192.168.100.110<br>192.168.100.112<br>192.168.100.113 | 默认端口<br>全局目录配置 |
| PD | 3 | 40核 250GB<br> (nvme ssd) \* 2 | 192.168.100.110<br>192.168.100.112<br>192.168.100.113 | 默认端口<br>全局目录配置 |
| TiKV | 3 | 40核 250GB<br> (nvme ssd) \* 2 | 192.168.100.110<br>192.168.100.112<br>192.168.100.113 | 默认端口<br>全局目录配置 |
| Monitoring &amp; Grafana | 1 | 40核 250GB<br> (nvme ssd) \* 2 | 192.168.100.110 | 默认端口<br>全局目录配置 |




测试方案一

1. 通过 TiUP 部署 TiDB v5.0

1. 通过 Sysbench 导入 16 张表，每张表有 50 万行数据。

1. 分别对每个表执行 analyze table 命令。

1. 备份数据，用于不同并发测试前进行数据恢复，以保证每次数据一致。

1. 启动 Sysbench 客户端，进行 point_select、read_write、update_index 和 update_non_index 测试。通过 AWS NLB 向 TiDB 加压，单轮预热 1 分钟，测试 5 分钟。

1. 每轮完成后停止集群，使用之前的备份的数据覆盖，再启动集群。



