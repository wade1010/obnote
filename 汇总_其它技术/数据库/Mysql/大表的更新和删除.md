

![](https://gitee.com/hxc8/images7/raw/master/img/202407190812787.jpg)





分批次操作可以给主从复制同步时间





1. 新建表

1. 老表数据导入新表

1. 老表建立触发器同步数据到新表

1. 老表加排它锁

1. 重命名



![](https://gitee.com/hxc8/images7/raw/master/img/202407190812649.jpg)





上面可以使用工具实现 pt-online-schema-chage





![](https://gitee.com/hxc8/images7/raw/master/img/202407190812295.jpg)

