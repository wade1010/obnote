混沌工程最早是在2010年由netflix工程师提出的chaos monkey项目。

这个项目是奈非内部的一些软件应用，当它部署和交付到亚马逊公有云的时候，需要有一些工具来验证，这些应用本身稳定性，可靠性。



到了2017年的时候奈非出了一本书《chaos engineering》，翻译过来就是混沌工程。2019年就引入到国内，之后国内也随着云原生应用的发展，逐渐重视混沌工程。



混沌工程一般解释：

对一个分布式系统进行验证和实验的学科，在这个学科你可以调整你相应的IT基础设施、中间件等，去验证这些东西对应用的影响。







简单理解，

1、就是在生产环境去做的，

2、混沌工程是通过一些方法和工具在生产环境去模拟基础设施、资源、中间件等各种资源服务出现故障、宕机、 不稳定的时候，整个应用的稳定性和可靠性。





为什么一个系统上线前要进行功能测试，性能测试，可靠性测试。那为什么这些事情不在测试环境测试呢？



1、生产环境几十台服务器，往往测试环境只有几台机器，测试环境很难模拟生产环境。

2、测试环境做的测试很难模拟生产环境出现的各种复杂的高并发的场景。

3、测试环境做的高性能和高可靠性测试往往是分开的。很难同时去验证在高并发场景下面整个系统的稳定性和高可靠性，包括出现了故障时的系统本身的可恢复性和冗余能力。





以后我们可以看到整个生产环境一个大的复杂的应用，它整个基础设施架构应用的部署是相当复杂的，底层即涉及到数据库应用，中间件，还涉及消息缓存安全日志等技术组件，对于上层的应用，原来是一个大单体，现在又给拆分了很多微服务， 每个微服务可能又是个小集群，里面还有相应的注册中心，分布式的协调器管理节点。所以这么一个复杂的环境，对它的稳定性、高可靠性、可恢复行的一些观测就相当重要的。也正是这个原因，对于云原生应用下面对于混沌工程的推进是相当必要的。





那么对于混沌工程在云原生生产环境下的一个应用，它能够达到的一些目标，主要可以理解为下面几个关键点：

1、我们可以去验证在生产环境通过混沌工程这个工具去模拟验证当某一个资源、组件、服务出现故障的时候，它整个平台的高可靠性。比如数据库有一个节点宕机了，集群有一个节点宕机了，我整个平台是不是仍然是高可靠，这个是验证基础设施应用部署架构最基本的一个冗余能力；

2、还要去验证，当整个集群里面如果出现多个节点发生故障的时候，你整个应用平台是不是足够的稳定，当多节点发生故障的时候，这个稳定其实可以体现在两个方面：

2.1：调起一些新的节点来替换掉你出现故障的技术组件的一些节点。

2.2：多节点发生故障后，原有节点组成的集群已经撑不住这个并发量了，可能还需要去启用限流熔断相关的一些控制措施。

3、在节点出现一些故障以后，往往整个应用架构它一般具备一些自恢复能力，那么我们还要取验证当相应节点自己恢复以后，它本身的一个状态的同步，数据的同步，是不是能够恢复到一致的状态。也就是整个应用架构基础设施架构，它的可恢复性怎么样，也是需要我们通过混沌工程去做验证的这一个点。