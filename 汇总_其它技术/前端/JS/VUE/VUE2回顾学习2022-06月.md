å‰ç«¯ç¬”è®°

[https://www.yuque.com/cessstudy/kak11d/hfeef2](https://www.yuque.com/cessstudy/kak11d/hfeef2)

ç¬”è®°md5ç‰ˆ3

[https://gitee.com/gaohan888/note](https://gitee.com/gaohan888/note)

è¯¾ç¨‹èµ„æ–™

[å°šç¡…è°·_å‰ç«¯æŠ€æœ¯_Vueå…¨å®¶æ¡¶.pdf](attachments/WEBRESOURCE1ac7b79504e090261f609f651ab3b231å°šç¡…è°·_å‰ç«¯æŠ€æœ¯_Vueå…¨å®¶æ¡¶.pdf)

ä»£ç 

[ä»£ç .zip](attachments/WEBRESOURCE742d428b93452d4d507a51ecf6f29441ä»£ç .zip)

ä»£ç ç›®å½•ç»“æ„å¦‚ä¸‹å›¾ï¼š

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741998.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741017.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741192.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741498.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741586.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741778.jpg)

ä¸Šå›¾æ²¡æœ‰ä½“ç°çš„3ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼š

1ã€nextTick

2ã€3ã€è·¯ç”±ç‹¬æœ‰çš„activated  deactivated  

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741030.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741935.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741094.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741755.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741451.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741950.jpg)

ç›‘è§†å¯¹è±¡çš„å­å±æ€§

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741781.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741168.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741495.jpg)

watchç®€å†™  åªæœ‰handlerçš„æ—¶å€™å¯ä»¥ç®€å†™

![](D:/download/youdaonote-pull-master/data/Technology/å‰ç«¯/JS/VUE/images/WEBRESOURCE39d763e7333b499e5626c1a12a366fd1æˆªå›¾.png)

$watchç”¨æ³•

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741490.jpg)

watchå’Œcomputedçš„åŒºåˆ«

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741098.jpg)

ä¸¤ä¸ªé‡è¦å°åŸåˆ™ï¼š

1ã€æ‰€æœ‰è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–è€…ç»„ä»¶å®ä¾‹å¯¹è±¡

2ã€æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°(å®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€Ajaxçš„å›è°ƒå‡½æ•°ã€promiseçš„å›è°ƒå‡½æ•°ç­‰)ï¼Œæœ€å¥½åç¨‹ç®­å¤´å‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚

ç»‘å®šclassæ ·å¼

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741568.jpg)

style å¯¹è±¡ç»‘å®š

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741265.jpg)

v-if v-show

éœ€æ±‚å¦‚æœn===1çš„æ—¶å€™å°±æ˜¾ç¤ºh2æ ‡ç­¾

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741664.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741717.jpg)

ä¸Šé¢åŠ äº†divï¼Œå°±ç ´åäº†ç»“æ„ï¼Œå¯ä»¥å°†divæ”¹æˆtemplateï¼Œä¸ä¼šç ´åç»“æ„

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741029.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741121.jpg)

å€¼å¾—æ³¨æ„ï¼Œtemplateä¸èƒ½å’Œv-showé…åˆä½¿ç”¨

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741573.jpg)

```
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>åŸºæœ¬åˆ—è¡¨</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<!-- 
				v-foræŒ‡ä»¤:
						1.ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®
						2.è¯­æ³•ï¼šv-for="(item, index) in xxx" :key="yyy"
						3.å¯éå†ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ã€æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰
		-->
		<!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨-->
		<div id="root">
			<!-- éå†æ•°ç»„ -->
			<h2>äººå‘˜åˆ—è¡¨ï¼ˆéå†æ•°ç»„ï¼‰</h2>
			<ul>
				<li v-for="(p,index) of persons" :key="index">
					{{p.name}}-{{p.age}}
				</li>
			</ul>

			<!-- éå†å¯¹è±¡ -->
			<h2>æ±½è½¦ä¿¡æ¯ï¼ˆéå†å¯¹è±¡ï¼‰</h2>
			<ul>
				<li v-for="(value,k) of car" :key="k">
					{{k}}-{{value}}
				</li>
			</ul>

			<!-- éå†å­—ç¬¦ä¸² -->
			<h2>æµ‹è¯•éå†å­—ç¬¦ä¸²ï¼ˆç”¨å¾—å°‘ï¼‰</h2>
			<ul>
				<li v-for="(char,index) of str" :key="index">
					{{char}}-{{index}}
				</li>
			</ul>
			
			<!-- éå†æŒ‡å®šæ¬¡æ•° -->
			<h2>æµ‹è¯•éå†æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨å¾—å°‘ï¼‰</h2>
			<ul>
				<li v-for="(number,index) of 5" :key="index">
					{{index}}-{{number}}
				</li>
			</ul>
		</div>

		<script type="text/javascript">
			Vue.config.productionTip = false
			
			new Vue({
				el:'#root',
				data:{
					persons:[
						{id:'001',name:'å¼ ä¸‰',age:18},
						{id:'002',name:'æå››',age:19},
						{id:'003',name:'ç‹äº”',age:20}
					],
					car:{
						name:'å¥¥è¿ªA8',
						price:'70ä¸‡',
						color:'é»‘è‰²'
					},
					str:'hello'
				}
			})
		</script>
</html>
```

**key çš„ä½œç”¨ä¸åŸç†**

åŸç†

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741837.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741475.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741901.jpg)

```
<title>keyçš„åŸç†</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <h2>äººå‘˜åˆ—è¡¨ï¼ˆéå†æ•°ç»„ï¼‰</h2>
  <button @click.once="add">æ·»åŠ ä¸€ä¸ªè€åˆ˜</button>
  <ul>
    <li v-for="(p,index) of persons" :key="index">
      {{p.name}}-{{p.age}}
      <input type="text">
    </li>
  </ul>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false
  new Vue({
    el: '#root',
    data: {
      persons: [
        { id: '001', name: 'å¼ ä¸‰', age: 18 },
        { id: '002', name: 'æå››', age: 19 },
        { id: '003', name: 'ç‹äº”', age: 20 }
      ]
    },
    methods: {
      add() {
        const p = { id: '004', name: 'è€åˆ˜', age: 40 }
        this.persons.unshift(p)
      }
    },
  })
</script>
```

indexOfæ³¨æ„ç»†èŠ‚

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741106.jpg)

åˆ—è¡¨è¿‡æ»¤ã€‚ä½¿ç”¨computedæ¯”è¾ƒç®€å•

```
<title>åˆ—è¡¨è¿‡æ»¤</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <h2>äººå‘˜åˆ—è¡¨</h2>
  <input type="text" placeholder="è¯·è¾“å…¥åå­—" v-model="keyWord">
  <ul>
    <li v-for="(p,index) of filPersons" :key="p.id">
      {{ p.name }}-{{ p.age }}-{{ p.sex }}
    </li>
  </ul>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false
  // ç”¨ watch å®ç°
  // #region 
  /* new Vue({
			el: '#root',
			data: {
				keyWord: '',
				persons: [
					{ id: '001', name: 'é©¬å†¬æ¢…', age: 19, sex: 'å¥³' },
					{ id: '002', name: 'å‘¨å†¬é›¨', age: 20, sex: 'å¥³' },
					{ id: '003', name: 'å‘¨æ°ä¼¦', age: 21, sex: 'ç”·' },
					{ id: '004', name: 'æ¸©å…†ä¼¦', age: 22, sex: 'ç”·' }
				],
				filPersons: []
			},
			watch: {
				keyWord: {
					immediate: true,
					handler(val) {
						this.filPersons = this.persons.filter((p) => {
							return p.name.indexOf(val) !== -1
						})
					}
				}
			}
		}) */
  //#endregion

  // ç”¨ computed å®ç°
  new Vue({
    el: '#root',
    data: {
      keyWord: '',
      persons: [
        { id: '001', name: 'é©¬å†¬æ¢…', age: 19, sex: 'å¥³' },
        { id: '002', name: 'å‘¨å†¬é›¨', age: 20, sex: 'å¥³' },
        { id: '003', name: 'å‘¨æ°ä¼¦', age: 21, sex: 'ç”·' },
        { id: '004', name: 'æ¸©å…†ä¼¦', age: 22, sex: 'ç”·' }
      ]
    },
    computed: {
      filPersons() {
        return this.persons.filter((p) => {
          return p.name.indexOf(this.keyWord) !== -1
        })
      }
    }
  }) 
</script>
```

**Vue æ•°æ®ç›‘è§†**

æ›´æ–°æ—¶çš„ä¸€ä¸ªé—®é¢˜

this.persons[0].name='é©¬è€å¸ˆ'

this.persons[0].age=20

è¿™æ˜¯å¯ä»¥ç›‘å¬åˆ°æ•°æ®æ”¹å˜çš„

ä½†æ˜¯ä½¿ç”¨å¦‚ä¸‹æ“ä½œ

this.persons[0] = {id:'001',name:'é©¬è€å¸ˆ',age:50,sex:'ç”·'} æ›´æ”¹dataæ•°æ®ï¼ŒVueä¸ç›‘å¬ï¼Œæ¨¡æ¿ä¸æ”¹å˜

```
<title>æ›´æ–°æ—¶çš„ä¸€ä¸ªé—®é¢˜</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <h2>äººå‘˜åˆ—è¡¨</h2>
  <button @click="updateMei">æ›´æ–°é©¬å†¬æ¢…çš„ä¿¡æ¯</button>
  <ul>
    <li v-for="(p,index) of persons" :key="p.id">
      {{p.name}}-{{p.age}}-{{p.sex}}
    </li>
  </ul>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false

  const vm = new Vue({
    el: '#root',
    data: {
      persons: [
        { id: '001', name: 'é©¬å†¬æ¢…', age: 30, sex: 'å¥³' },
        { id: '002', name: 'å‘¨å†¬é›¨', age: 31, sex: 'å¥³' },
        { id: '003', name: 'å‘¨æ°ä¼¦', age: 18, sex: 'ç”·' },
        { id: '004', name: 'æ¸©å…†ä¼¦', age: 19, sex: 'ç”·' }
      ]
    },
    methods: {
      updateMei() {
        // this.persons[0].name = 'é©¬è€å¸ˆ'	//å¥æ•ˆ
        // this.persons[0].age = 50				//å¥æ•ˆ
        // this.persons[0].sex = 'ç”·'			//å¥æ•ˆ
        // this.persons[0] = {id:'001',name:'é©¬è€å¸ˆ',age:50,sex:'ç”·'} //ä¸å¥æ•ˆ
        this.persons.splice(0, 1, { id: '001', name: 'é©¬è€å¸ˆ', age: 50, sex: 'ç”·' })
      }
    }
  })
</script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741820.jpg)

**æ¨¡æ‹Ÿä¸€ä¸ªæ•°æ®ç›‘æµ‹**

```
let data = {
  name: 'å°šç¡…è°·',
  address: 'åŒ—äº¬',
}

function Observer(obj) {
  // æ±‡æ€»å¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§å½¢æˆä¸€ä¸ªæ•°ç»„
  const keys = Object.keys(obj)
  // éå†
  keys.forEach((k) => {
    Object.defineProperty(this, k, {
      get() {
        return obj[k]
      },
      set(val) {
        console.log(`${k}è¢«æ”¹äº†ï¼Œæˆ‘è¦å»è§£ææ¨¡æ¿ï¼Œç”Ÿæˆè™šæ‹ŸDOM.....æˆ‘è¦å¼€å§‹å¿™äº†`)
        obj[k] = val
      }
    })
  })
}

// åˆ›å»ºä¸€ä¸ªç›‘è§†çš„å®ä¾‹å¯¹è±¡ï¼Œç”¨äºç›‘è§†dataä¸­å±æ€§çš„å˜åŒ–
const obs = new Observer(data)
console.log(obs)

// å‡†å¤‡ä¸€ä¸ªvmå®ä¾‹å¯¹è±¡
let vm = {}
vm._data = data = obs
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741592.jpg)

```
Vueç›‘è§†æ•°æ®çš„åŸç†ï¼š
	1. vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®ã€‚

	2. å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®ï¼Ÿ
					é€šè¿‡setterå®ç°ç›‘è§†ï¼Œä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚
						(1).å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†
						(2).å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹APIï¼š
										Vue.set(targetï¼ŒpropertyName/indexï¼Œvalue) æˆ– 
										vm.$set(targetï¼ŒpropertyName/indexï¼Œvalue)

	3. å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®ï¼Ÿ
						é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹ï¼š
							(1).è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ã€‚
							(2).é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢ã€‚

	4.åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š
				1.ä½¿ç”¨è¿™äº›API:push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse()
				2.Vue.set() æˆ– vm.$set()
	
	ç‰¹åˆ«æ³¨æ„ï¼šVue.set() å’Œ vm.$set() ä¸èƒ½ç»™vm æˆ– vmçš„æ ¹æ•°æ®å¯¹è±¡ æ·»åŠ å±æ€§ï¼ï¼ï¼
```

```
<title>æ€»ç»“æ•°æ®ç›‘è§†</title>
<style>button {margin-top: 10px;}</style>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <h1>å­¦ç”Ÿä¿¡æ¯</h1>
  <button @click="student.age++">å¹´é¾„+1å²</button> <br />
  <button @click="addSex">æ·»åŠ æ€§åˆ«å±æ€§ï¼Œé»˜è®¤å€¼ï¼šç”·</button> <br />
  <button @click="student.sex = 'æœªçŸ¥' ">ä¿®æ”¹æ€§åˆ«</button> <br />
  <button @click="addFriend">åœ¨åˆ—è¡¨é¦–ä½æ·»åŠ ä¸€ä¸ªæœ‹å‹</button> <br />
  <button @click="updateFirstFriendName">ä¿®æ”¹ç¬¬ä¸€ä¸ªæœ‹å‹çš„åå­—ä¸ºï¼šå¼ ä¸‰</button> <br />
  <button @click="addHobby">æ·»åŠ ä¸€ä¸ªçˆ±å¥½</button> <br />
  <button @click="updateHobby">ä¿®æ”¹ç¬¬ä¸€ä¸ªçˆ±å¥½ä¸ºï¼šå¼€è½¦</button> <br />
  <button @click="removeSmoke">è¿‡æ»¤æ‰çˆ±å¥½ä¸­çš„æŠ½çƒŸ</button> <br />
  <h3>å§“åï¼š{{ student.name }}</h3>
  <h3>å¹´é¾„ï¼š{{ student.age }}</h3>
  <h3 v-if="student.sex">æ€§åˆ«ï¼š{{student.sex}}</h3>
  <h3>çˆ±å¥½ï¼š</h3>
  <ul>
    <li v-for="(h,index) in student.hobby" :key="index">{{ h }} </li>
  </ul>
  <h3>æœ‹å‹ä»¬ï¼š</h3>
  <ul>
    <li v-for="(f,index) in student.friends" :key="index">{{ f.name }}--{{ f.age }}</li>
  </ul>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false

  const vm = new Vue({
    el: '#root',
    data: {
      student: {
        name: 'tom',
        age: 18,
        hobby: ['æŠ½çƒŸ', 'å–é…’', 'çƒ«å¤´'],
        friends: [
          { name: 'jerry', age: 35 },
          { name: 'tony', age: 36 }
        ]
      }
    },
    methods: {
      addSex() {
        // Vue.set(this.student,'sex','ç”·')
        this.$set(this.student, 'sex', 'ç”·')
      },
      addFriend() {
        this.student.friends.unshift({ name: 'jack', age: 70 })
      },
      updateFirstFriendName() {
        this.student.friends[0].name = 'å¼ ä¸‰'
      },
      addHobby() {
        this.student.hobby.push('å­¦ä¹ ')
      },
      updateHobby() {
        // this.student.hobby.splice(0,1,'å¼€è½¦')
        // Vue.set(this.student.hobby,0,'å¼€è½¦')
        this.$set(this.student.hobby, 0, 'å¼€è½¦')
      },
      removeSmoke() {
        this.student.hobby = this.student.hobby.filter((h) => {
          return h !== 'æŠ½çƒŸ'
        })
      }
    }
  })
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741448.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741219.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741800.jpg)

```
<title>æ”¶é›†è¡¨å•æ•°æ®</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <form @submit.prevent="demo">
    è´¦å·ï¼š<input type="text" v-model.trim="userInfo.account"> <br /><br />
    å¯†ç ï¼š<input type="password" v-model="userInfo.password"> <br /><br />
    å¹´é¾„ï¼š<input type="number" v-model.number="userInfo.age"> <br /><br />
    æ€§åˆ«ï¼š
    ç”·<input type="radio" name="sex" v-model="userInfo.sex" value="male">
    å¥³<input type="radio" name="sex" v-model="userInfo.sex" value="female"> <br /><br />
    çˆ±å¥½ï¼š
    å­¦ä¹ <input type="checkbox" v-model="userInfo.hobby" value="study">
    æ‰“æ¸¸æˆ<input type="checkbox" v-model="userInfo.hobby" value="game">
    åƒé¥­<input type="checkbox" v-model="userInfo.hobby" value="eat">
    <br /><br />
    æ‰€å±æ ¡åŒº
    <select v-model="userInfo.city">
      <option value="">è¯·é€‰æ‹©æ ¡åŒº</option>
      <option value="beijing">åŒ—äº¬</option>
      <option value="shanghai">ä¸Šæµ·</option>
      <option value="shenzhen">æ·±åœ³</option>
      <option value="wuhan">æˆéƒ½</option>
    </select>
    <br/><br/>
    å…¶ä»–ä¿¡æ¯ï¼š
    <textarea v-model.lazy="userInfo.other"></textarea> <br/><br/>
    <input type="checkbox" v-model="userInfo.agree">é˜…è¯»å¹¶æ¥å—
    <a href="https://www.yuque.com/cessstudy">ã€Šç”¨æˆ·åè®®ã€‹</a>
    <button>æäº¤</button>
  </form>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false

  new Vue({
    el: '#root',
    data: {
      userInfo: {
        account: '',
        password: '',
        age: 18,
        sex: 'female',
        hobby: [],
        city: 'beijing',
        other: '',
        agree: ''
      }
    },
    methods: {
      demo() {
        console.log(JSON.stringify(this.userInfo))
      }
    }
  })
</script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741485.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741239.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741600.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190741828.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742343.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742374.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742415.jpg)

```
<title>è‡ªå®šä¹‰æŒ‡ä»¤</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <h2>{{ name }}</h2>
  <h2>å½“å‰çš„nå€¼æ˜¯ï¼š<span v-text="n"></span> </h2>
  <!-- <h2>æ”¾å¤§10å€åçš„nå€¼æ˜¯ï¼š<span v-big-number="n"></span> </h2> -->
  <h2>æ”¾å¤§10å€åçš„nå€¼æ˜¯ï¼š<span v-big="n"></span> </h2>
  <button @click="n++">ç‚¹æˆ‘n+1</button>
  <hr />
  <input type="text" v-fbind:value="n">
</div>

<script type="text/javascript">
  Vue.config.productionTip = false

  // å®šä¹‰å…¨å±€æŒ‡ä»¤
  /* Vue.directive('fbind',{
		// æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰
		bind(element,binding){
			element.value = binding.value
		},
		// æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶
		inserted(element,binding){
			element.focus()
		},
		// æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶
		update(element,binding){
			element.value = binding.value
		}
	}) */

  new Vue({
    el: '#root',
    data: {
      name: 'å°šç¡…è°·',
      n: 1
    },
    directives: {
      // bigå‡½æ•°ä½•æ—¶ä¼šè¢«è°ƒç”¨ï¼Ÿ
      // 1.æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰ 2.æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶
      /* 'big-number'(element,binding){
				// console.log('big')
				element.innerText = binding.value * 10
			}, */
      big(element, binding) {
        console.log('big', this) // ğŸ”´æ³¨æ„æ­¤å¤„çš„ this æ˜¯ window
        // console.log('big')
        element.innerText = binding.value * 10
      },
      fbind: {
        // æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰
        bind(element, binding) {
          element.value = binding.value
        },
        // æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶
        inserted(element, binding) {
          element.focus()
        },
        // æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶
        update(element, binding) {
          element.value = binding.value
        }
      }
    }
  })
</script>
```

ç”Ÿå‘½å‘¨æœŸ

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742907.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742487.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742029.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742180.jpg)

**Vueç»„ä»¶åŒ–ç¼–ç¨‹**

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742599.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742735.jpg)

```
<title>VueComponent</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <school></school>
  <hello></hello>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false

  // å®šä¹‰schoolç»„ä»¶
  const school = Vue.extend({
    name: 'school',
    template: `
				<div>
					<h2>å­¦æ ¡åç§°ï¼š{{name}}</h2>	
					<h2>å­¦æ ¡åœ°å€ï¼š{{address}}</h2>	
					<button @click="showName">ç‚¹æˆ‘æç¤ºå­¦æ ¡å</button>
  			</div>
			`,
    data() {return {name: 'å°šç¡…è°·',address: 'åŒ—äº¬'}},
    methods: {showName() {console.log('showName', this)}},
  })

  const test = Vue.extend({
    template: `<span>atguigu</span>`
  })

  // å®šä¹‰helloç»„ä»¶
  const hello = Vue.extend({
    template: `
				<div>
					<h2>{{msg}}</h2>
					<test></test>	
  			</div>
			`,
    data() {return {msg: 'ä½ å¥½å•Šï¼'}},
    components: { test }
  })

  // console.log('@',school)
  // console.log('#',hello)

  // åˆ›å»ºvm
  const vm = new Vue({
    el: '#root',
    components: { school, hello }
  })
</script>
```

# ä¸€ä¸ªé‡è¦çš„å†…ç½®å…³ç³»

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742758.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742437.jpg)

prototype:æ˜¾ç¤ºåŸå‹å¯¹è±¡

__proto__ï¼šéšå¼åŸå‹å¯¹è±¡

è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„

```
.æ–‡ä»¶ç›®å½•
â”œâ”€â”€ node_modules 
â”œâ”€â”€ public
â”‚   â”œâ”€â”€ favicon.ico: é¡µç­¾å›¾æ ‡
â”‚   â””â”€â”€ index.html: ä¸»é¡µé¢
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ assets: å­˜æ”¾é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â”‚â”€â”€ component: å­˜æ”¾ç»„ä»¶
â”‚   â”‚   â””â”€â”€ HelloWorld.vue
â”‚   â”‚â”€â”€ App.vue: æ±‡æ€»æ‰€æœ‰ç»„ä»¶
â”‚   â””â”€â”€ main.js: å…¥å£æ–‡ä»¶
â”œâ”€â”€ .gitignore: gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®
â”œâ”€â”€ babel.config.js: babelçš„é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json: åº”ç”¨åŒ…é…ç½®æ–‡ä»¶ 
â”œâ”€â”€ README.md: åº”ç”¨æè¿°æ–‡ä»¶
â””â”€â”€ package-lock.json: åŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶
```

renderå‡½æ•°

```
import Vue from 'vue'
import App from './App.vue'

Vue.config.productionTip = false

new Vue({
  el:'#app',
  // renderå‡½æ•°åŠŸèƒ½ï¼šå°†Appç»„ä»¶æ”¾å…¥å®¹å™¨ä¸­
  // ç®€å†™å½¢å¼
  render: h => h(App),
  // å®Œæ•´å½¢å¼
  // render(createElement){
  //   return createElement(App)
  // }
})
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742674.jpg)

å›¾ç‰‡ä¸­çš„[ é…ç½®å‚è€ƒ|VueCLI](https://cli.vuejs.org/zh/config/#vue-config-js)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742719.jpg)

```
<template>
  <div>
    <h1 v-text="msg" ref="title"></h1>
    <button ref="btn" @click="showDOM">ç‚¹æˆ‘è¾“å‡ºä¸Šæ–¹çš„DOMå…ƒç´ </button>
    <School ref="sch"/>
  </div>
</template>

<script>
  import School from './components/School'

  export default {
    name:'App',
    components:{ School },
    data() {
      return {
        msg:'æ¬¢è¿å­¦ä¹ Vueï¼'
      }
    },
    methods: {
      showDOM(){
        console.log(this.$refs.title)	// çœŸå®DOMå…ƒç´ 
        console.log(this.$refs.btn)		// çœŸå®DOMå…ƒç´ 
        console.log(this.$refs.sch)		// Schoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰
      }
    },
  }
</script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742876.jpg)

```
<template>
  <div>
    <Student name="æå››" sex="å¥³" :age="18"/>
    <Student name="ç‹äº”" sex="ç”·" :age="18"/>
  </div>
</template>

<script>
  import Student from './components/Student'

  export default {
    name:'App',
    components:{ Student }
  }
</script>
```

```
<template>
  <div>
    <h1>{{ msg }}</h1>
    <h2>å­¦ç”Ÿå§“åï¼š{{ name }}</h2>
    <h2>å­¦ç”Ÿæ€§åˆ«ï¼š{{ sex }}</h2>
    <h2>å­¦ç”Ÿå¹´é¾„ï¼š{{ myAge + 1 }}</h2>
    <button @click="updateAge">å°è¯•ä¿®æ”¹æ”¶åˆ°çš„å¹´é¾„</button>
  </div>
</template>

<script>
export default {
  name: "Student",
  data() {
    console.log(this);
    return {
      msg: "æˆ‘æ˜¯ä¸€ä¸ªUESTCå¤§å­¦çš„å­¦ç”Ÿ",
      myAge: this.age,
    };
  },
  methods: { updateAge() { this.myAge++; }, },
  // ç®€å•å£°æ˜æ¥æ”¶
  // props:['name','age','sex']

  // æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®è¿›è¡Œç±»å‹é™åˆ¶
  //   props: {
  //     name: String,
  //     age: Number,
  //     sex: String,
  //   }

  // æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®ï¼šè¿›è¡Œç±»å‹é™åˆ¶+é»˜è®¤å€¼çš„æŒ‡å®š+å¿…è¦æ€§çš„é™åˆ¶
  props: {
    name: {
      type: String, 	//nameçš„ç±»å‹æ˜¯å­—ç¬¦ä¸²
      required: true, //nameæ˜¯å¿…è¦çš„
    },
    age: {
      type: Number,
      default: 99, //é»˜è®¤å€¼
    },
    sex: {
      type: String,
      required: true,
    },
  },
};
</script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742020.jpg)

```
var mixin = {
	data: function () {
		return {
    		message: 'hello',
            foo: 'abc'
    	}
  	}
}

new Vue({
  	mixins: [mixin],
  	data () {
    	return {
      		message: 'goodbye',
            	bar: 'def'
    	}
    },
  	created () {
    	console.log(this.$data)
    	// => { message: "goodbye", foo: "abc", bar: "def" }
  	}
})
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742194.jpg)

Vueæ’ä»¶

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742322.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742538.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742488.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742631.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742222.jpg)

# ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742301.jpg)

ç®­å¤´å‡½æ•°æ²¡æœ‰this,ä¼šå‘å¤–æ‰¾ï¼Œæ‰¾åˆ°monted( )ï¼Œthiså°±æ˜¯vm

src/app.vue

```
<template>
  <div class="app">
    <h1>{{ msg }}ï¼Œå­¦ç”Ÿå§“åæ˜¯:{{ studentName }}</h1>
		
    <!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’å‡½æ•°ç±»å‹çš„propså®ç°å­ç»™çˆ¶ä¼ é€’æ•°æ® -->
    <School :getSchoolName="getSchoolName"/>

    <!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°å­ç»™çˆ¶ä¼ é€’æ•°æ®ï¼ˆç¬¬ä¸€ç§å†™æ³•ï¼Œä½¿ç”¨@æˆ–v-onï¼‰ -->
    <!-- <Student @atguigu="getStudentName" @demo="m1"/> -->

    <!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°å­ç»™çˆ¶ä¼ é€’æ•°æ®ï¼ˆç¬¬äºŒç§å†™æ³•ï¼Œä½¿ç”¨refï¼‰ -->
    <Student ref="student" @click.native="show"/> <!-- ğŸ”´native -->
  </div>
</template>

<script>
  import Student from './components/Student'
  import School from './components/School'

  export default {
    name:'App',
    components:{School,Student},
    data() {
      return {
        msg:'ä½ å¥½å•Šï¼',
        studentName:''
      }
    },
    methods: {
      getSchoolName(name){
        console.log('Appæ”¶åˆ°äº†å­¦æ ¡åï¼š',name)
      },
      getStudentName(name,...params){
        console.log('Appæ”¶åˆ°äº†å­¦ç”Ÿåï¼š',name,params)
        this.studentName = name
      },
      m1(){
        console.log('demoäº‹ä»¶è¢«è§¦å‘äº†ï¼')
      },
      show(){
        alert(123)
      }
    },
    mounted() {
      this.$refs.student.$on('atguigu',this.getStudentName) // ğŸ”´ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶
      //è¿˜å¯ä»¥å»¶è¿Ÿå¤šå°‘ç§’ï¼ŒsetTimeout,è¿™ä¸ªæ˜¯ä¸Šæ–¹å¦å¤–å‡ ä¸ªæ–¹æ³•åšä¸åˆ°çš„
      // this.$refs.student.$once('atguigu',this.getStudentName) // ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆä¸€æ¬¡æ€§ï¼‰
    },
  }
</script>

<style scoped>.app{background-color: gray;padding: 5px;}</style>
```

src/components/Student.vue

```
<template>
	<div class="student">
		<h2>å­¦ç”Ÿå§“åï¼š{{name}}</h2>
		<h2>å­¦ç”Ÿæ€§åˆ«ï¼š{{sex}}</h2>
		<h2>å½“å‰æ±‚å’Œä¸ºï¼š{{number}}</h2>
		<button @click="add">ç‚¹æˆ‘number++</button>
		<button @click="sendStudentlName">æŠŠå­¦ç”Ÿåç»™App</button>
		<button @click="unbind">è§£ç»‘atguiguäº‹ä»¶</button>
		<button @click="death">é”€æ¯å½“å‰Studentç»„ä»¶çš„å®ä¾‹(vc)</button>
	</div>
</template>

<script>
	export default {
		name:'Student',
		data() {
			return {
				name:'å¼ ä¸‰',
				sex:'ç”·',
				number:0
			}
		},
		methods: {
			add(){
				console.log('addå›è°ƒè¢«è°ƒç”¨äº†')
				this.number++
			},
			sendStudentlName(){
				// è§¦å‘Studentç»„ä»¶å®ä¾‹èº«ä¸Šçš„atguiguäº‹ä»¶
				this.$emit('atguigu',this.name,666,888,900)
				// this.$emit('demo')
				// this.$emit('click')
			},
			unbind(){
        // ğŸ”´è§£ç»‘
				this.$off('atguigu') //è§£ç»‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶
				// this.$off(['atguigu','demo']) //è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶
				// this.$off() //è§£ç»‘æ‰€æœ‰çš„è‡ªå®šä¹‰äº‹ä»¶
			},
			death(){
        // é”€æ¯äº†å½“å‰Studentç»„ä»¶çš„å®ä¾‹ï¼Œé”€æ¯åæ‰€æœ‰Studentå®ä¾‹çš„è‡ªå®šä¹‰äº‹ä»¶å…¨éƒ½ä¸å¥æ•ˆ
				this.$destroy()
			}
		},
	}
</script>

<style lang="less" scoped>
	.student{background-color: pink;padding: 5px;margin-top: 30px;}
</style>
```

# å…¨å±€äº‹ä»¶æ€»çº¿

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742394.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742547.jpg)

åˆè¦çœ‹ä¹‹å‰çš„é‡è¦å›¾äº†

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742758.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742653.jpg)

ä¸‹å›¾ =vmè¿™è¡Œä»£ç é¡ºåºä¸å¯¹

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742935.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742076.jpg)

=vmè¿™è¡Œä»£ç åº”è¯¥æ”¾çš„åœ¨beforecreateè¿™ä¸ªé’©å­å‡½æ•°ä¸­

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742238.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742247.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742293.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742251.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742393.jpg)

![](D:/download/youdaonote-pull-master/data/Technology/å‰ç«¯/JS/VUE/images/WEBRESOURCE678d0d22e63c0a79b4087c50342aa1a0æˆªå›¾.png)

$nextTick

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742759.jpg)

```
<template>
  <li>
    <label>
      <input type="checkbox" :checked="todo.done" @change="handleCheck(todo.id)"/>
      <span v-show="!todo.isEdit">{{ todo.title }}</span>
      <input type="text" v-show="todo.isEdit" :value="todo.title"
        @blur="handleBlur(todo, $event)" ref="inputTitle"/>
    </label>
    <button class="btn btn-danger" @click="handleDelete(todo.id)">åˆ é™¤</button>
    <button v-show="!todo.isEdit" class="btn btn-edit" @click="handleEdit(todo)">
      ç¼–è¾‘
    </button>
  </li>
</template>

<script>
export default {
  name: "MyItem",
  
  props: ["todo"],	// å£°æ˜æ¥æ”¶todo
  methods: {
    handleCheck(id) {		// å‹¾é€‰orå–æ¶ˆå‹¾é€‰
      // é€šçŸ¥Appç»„ä»¶å°†å¯¹åº”çš„todoå¯¹è±¡çš„doneå€¼å–å
      // this.checkTodo(id)
      this.$bus.$emit("checkTodo", id);
    },
    handleDelete(id) {	// åˆ é™¤
      if (confirm("ç¡®å®šåˆ é™¤å—ï¼Ÿ")) {
        // é€šçŸ¥Appç»„ä»¶å°†å¯¹åº”çš„todoå¯¹è±¡åˆ é™¤
        // this.deleteTodo(id)
        this.$bus.$emit('deleteTodo',id)
      }
    },
    handleEdit(todo) {	// ç¼–è¾‘
      if (todo.hasOwnProperty("isEdit")) {
        todo.isEdit = true;
      } else {
        this.$set(todo, "isEdit", true);
      }
      this.$nextTick(function () {
        this.$refs.inputTitle.focus();
      });
    },
    handleBlur(todo, e) {	// å¤±å»ç„¦ç‚¹å›è°ƒï¼ˆçœŸæ­£æ‰§è¡Œä¿®æ”¹é€»è¾‘ï¼‰
      todo.isEdit = false;
      if (!e.target.value.trim()) return alert("è¾“å…¥ä¸èƒ½ä¸ºç©ºï¼");
      this.$bus.$emit("updateTodo", todo.id, e.target.value);
    },
  },
};
</script>
```

é»˜è®¤æ’æ§½

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742855.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742026.jpg)

**v-slot:xxx  **å¿…é¡»ä½œç”¨åœ¨templateä¸Šé¢ï¼Œä¸èƒ½ä½œç”¨åœ¨divä¸Šé¢

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742123.jpg)

ç¬¬ä¸‰è¡Œï¼Œå¿…é¡»ä½¿ç”¨template

```
çˆ¶ç»„ä»¶ä¸­ï¼š
        <Category>
            <template scope="scopeData">
                <!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ -->
                <ul>
                  <li v-for="g in scopeData.games" :key="g">{{g}}</li>
                </ul>
            </template>
        </Category>

        <Category>
            <template slot-scope="scopeData">
                <!-- ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜ -->
                <h4 v-for="g in scopeData.games" :key="g">{{g}}</h4>
            </template>
        </Category>
        
         <Category>
            <template slot-scope="{games}">
                <!-- ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜ -->
                <h4 v-for="g in games" :key="g">{{g}}</h4>
            </template>
        </Category>
        
å­ç»„ä»¶ä¸­ï¼š
        <template>
            <div>
                <slot :games="games"></slot>
            </div>
        </template>
		
        <script>
            export default {
                name:'Category',
                props:['title'],
                //æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«
                data() {
                    return {
                        games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½']
                    }
                },
            }
        </script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742200.jpg)

VueX

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742198.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742434.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742572.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742561.jpg)

VuxXå·¥ä½œåŸç†å›¾

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742557.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742683.jpg)

å¦‚æœçŸ¥é“åŠ å‡ ï¼Œæ¯”å¦‚çŸ¥é“sumæ“ä½œæ˜¯åŠ 2ï¼Œå…¶å®ä¸éœ€è¦èµ°actionsäº†ï¼Œactionsçš„ä¹Ÿæœ‰ä½œç”¨ï¼Œæ¯”å¦‚ä¸çŸ¥é“åŠ å‡ ï¼Œè¿™ä¸ªå‡ éœ€è¦é€šè¿‡backend APIè¯·æ±‚ï¼Œè¿”å›çš„ç»“æœæ‰çŸ¥é“ã€‚ä¹Ÿå°±æ˜¯æ²¡æœ‰ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™å¯ä»¥çœç•¥actions

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742994.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742129.jpg)

![](D:/download/youdaonote-pull-master/data/Technology/å‰ç«¯/JS/VUE/images/WEBRESOURCE53ea36e343443ec2c2500d0056818802æˆªå›¾.png)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742430.jpg)

Vue.use(Vuex)ä¹‹åï¼Œnew Vueçš„æ—¶å€™ä¼ storeæ‰æœ‰æ•ˆã€‚å¦‚æœæ²¡æœ‰useï¼Œstoreé…ç½®å°†ä¼šè¢«ä¸¢å¼ƒ

å‡†å¤‡store

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742802.jpg)

å¼•å…¥storeåˆ°vmå®ä¾‹å¯¹è±¡ä¸Š

![](https://gitee.com/hxc8/images7/raw/master/img/202407190742972.jpg)

è¿è¡Œåå‘ç°ä¸Šé¢ä»£ç æŠ¥é”™

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743098.jpg)

import store from './store'

è¿™é‡Œé¢ç”¨åˆ°äº†vuexï¼Œ

ä½†æ˜¯è¿™æ—¶å€™vuexè¿˜æ²¡æœ‰è¢«vue.use

å°è¯•æ”¹æˆå¦‚ä¸‹ï¼Œ

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743453.jpg)

å‘ç°é”™è¯¯ä¾æ—§

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743829.jpg)

è¿™æ˜¯å› ä¸ºè„šæ‰‹æ¶è§£æimportè¯­å¥æ—¶ï¼Œå…ˆæ‰«ææ–‡ä»¶é‡Œé¢æ‰€æœ‰çš„importè¯­å¥ï¼Œç„¶åæŠŠæ‰€æœ‰importå…¨éƒ¨éƒ½æ±‡æ€»åˆ°æœ€ä¸Šæ–¹

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743937.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743903.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743854.jpg)

æ§åˆ¶å°è¾“å‡º 

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743087.jpg)

æ”¹ä¸‹é¡ºåº

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743139.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743481.jpg)

æŠŠvuexå¼•å…¥å†™åœ¨storeé‡Œé¢

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743929.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743164.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743507.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743777.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743802.jpg)

```
import Vue from 'vue'
import Vuex from 'vuex'	// å¼•å…¥Vuex

Vue.use(Vuex)	// åº”ç”¨Vuexæ’ä»¶

// å‡†å¤‡actionsâ€”â€”ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ
const actions = {
	/* jia(context,value){
		console.log('actionsä¸­çš„jiaè¢«è°ƒç”¨äº†')
		context.commit('JIA',value)
	},
	jian(context,value){
		console.log('actionsä¸­çš„jianè¢«è°ƒç”¨äº†')
		context.commit('JIAN',value)
	}, */
	jiaOdd(context,value){	// context ç›¸å½“äºç²¾ç®€ç‰ˆçš„ $store
		console.log('actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†')
		if(context.state.sum % 2){
			context.commit('JIA',value)
		}
	},
	jiaWait(context,value){
		console.log('actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†')
		setTimeout(()=>{
			context.commit('JIA',value)
		},500)
	}
}
// å‡†å¤‡mutationsâ€”â€”ç”¨äºæ“ä½œæ•°æ®ï¼ˆstateï¼‰
const mutations = {
	JIA(state,value){
		console.log('mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†')
		state.sum += value
	},
	JIAN(state,value){
		console.log('mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†')
		state.sum -= value
	}
}
// å‡†å¤‡stateâ€”â€”ç”¨äºå­˜å‚¨æ•°æ®
const state = {
	sum:0 //å½“å‰çš„å’Œ
}

// åˆ›å»ºå¹¶æš´éœ²store
export default new Vuex.Store({
	actions,
	mutations,
	state,
})
```

![](D:/download/youdaonote-pull-master/data/Technology/å‰ç«¯/JS/VUE/images/WEBRESOURCE8ff192abe4c9dd13ead4e7e549293e82æˆªå›¾.png)

```
<template>
	<div>
		<h1>å½“å‰æ±‚å’Œä¸ºï¼š{{ $store.state.sum }}</h1>
		<select v-model.number="n">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
		</select>
		<button @click="increment">+</button>
		<button @click="decrement">-</button>
		<button @click="incrementOdd">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
		<button @click="incrementWait">ç­‰ä¸€ç­‰å†åŠ </button>
	</div>
</template>

<script>
	export default {
		name:'Count',
		data() {
			return {
				n:1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—
			}
		},
		methods: {
			increment(){
				this.$store.commit('JIA',this.n)
			},
			decrement(){
				this.$store.commit('JIAN',this.n)
			},
			incrementOdd(){
				this.$store.dispatch('jiaOdd',this.n)
			},
			incrementWait(){
				this.$store.dispatch('jiaWait',this.n)
			},
		}
	}
</script>

<style lang="css">button{margin-left: 5px;}</style>

```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743489.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743551.jpg)

```
import Vue from 'vue'	// å¼•å…¥Vueæ ¸å¿ƒåº“
import Vuex from 'vuex'	// å¼•å…¥Vuex

Vue.use(Vuex)	// åº”ç”¨Vuexæ’ä»¶
   
// å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œ
const actions = {
    addOdd(context,value){
        console.log("actionsä¸­çš„addOddè¢«è°ƒç”¨äº†")
        if(context.state.sum % 2){context.commit('ADD',value)}
    },
    addWait(context,value){
        console.log("actionsä¸­çš„addWaitè¢«è°ƒç”¨äº†")
        setTimeout(()=>{context.commit('ADD',value)},500)
    },
}
// å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ®
const mutations = {
    ADD(state,value){state.sum += value},
    SUB(state,value){state.sum -= value}
}
// å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ®
const state = {
    sum:0 // å½“å‰çš„å’Œ
}
// å‡†å¤‡getterså¯¹è±¡â€”â€”ç”¨äºå°†stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥
const getters = {
    bigSum(){
        return state.sum * 10
    }
}
   
//åˆ›å»ºå¹¶æš´éœ²store
export default new Vuex.Store({
    actions,
    mutations,
    state,
    getters
})
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743515.jpg)

```
<template>
	<div>
		<h1>å½“å‰æ±‚å’Œä¸ºï¼š{{ $store.state.sum }}</h1>
		<h3>å½“å‰æ±‚å’Œçš„10å€ä¸ºï¼š{{ $store.getters.bigSum }}</h3>
		<select v-model.number="n">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
		</select>
		<button @click="increment">+</button>
		<button @click="decrement">-</button>
		<button @click="incrementOdd">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
		<button @click="incrementWait">ç­‰ä¸€ç­‰å†åŠ </button>
	</div>
</template>

<script>
	export default {
		name:'Count',
		data() {
			return {
				n:1,
			}
		},
		methods: {
			increment(){this.$store.commit('ADD',this.n)},
			decrement(){this.$store.commit('SUBTRACT',this.n)},
			incrementOdd(){this.$store.dispatch('addOdd',this.n)},
			incrementWait(){this.$store.dispatch('addWait',this.n)},
		},
	}
</script>

<style>button{margin-left: 5px;}</style>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743488.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743772.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743004.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743224.jpg)

è·¯ç”±

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743599.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743615.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743743.jpg)

Vue Router query å‘½åè·¯ç”± params props

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743100.jpg)

```
<template>
  <div>
    <ul>
      <li v-for="m in messageList" :key="m.id">
        <!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• -->
        <!-- <router-link :to="`/home/message/detail?id=${m.id}&title=${m.title}`">
                      {{m.title}}
    				 </router-link>&nbsp;&nbsp; -->

        <!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• -->
        <router-link :to="{
                            path:'/home/message/detail',
                            query:{
                              id:m.id,
                              title:m.title
                            }
                          }">
          {{m.title}}
      </router-link>&nbsp;&nbsp;
      </li>
    </ul>
    <hr/>
    <router-view></router-view>
  </div>
</template>

<script>
  export default {
    name:'News',
    data(){
      return{
        messageList:[
          {id:'001',title:'æ¶ˆæ¯001'},
          {id:'002',title:'æ¶ˆæ¯002'},
          {id:'003',title:'æ¶ˆæ¯003'}
        ]
      }
    }
  }
</script>
```

```
<template>
    <ul>
        <li>æ¶ˆæ¯ç¼–å·ï¼š{{ $route.query.id }}</li>
        <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{ $route.query.title }}</li>
    </ul>
</template>

<script>
    export default {
        name:'Detail'
    }
</script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743359.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743765.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743862.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743898.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743028.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743029.jpg)

è·¯ç”±çš„ props é…ç½®

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743872.jpg)

```
{
	name:'xiangqing',
	path:'detail/:id',
	component:Detail,

	//ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶
	// props:{a:900}

	//ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œä¸ºtrueæ—¶ï¼Œåˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detailç»„ä»¶
	// props:true //ä¸èƒ½è§£æqueryåªèƒ½è§£æparams
	
	//ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶
	props($route){
		return {
			id: $route.query.id,
			title: $route.query.title
		}
	}
}
```

```
ä¸Šé¢çš„ä»£ç å¯ä»¥æ˜¯ç”¨ç»“æ„èµ‹å€¼
 	props($route){
		return {
			id: $route.query.id,
			title: $route.query.title
		}
	}
 
 è§£æ„èµ‹å€¼æ–¹å¼1
 props({query}){
		return {
			id: query.id,
			title: query.title
		}
	}
 è§£æ„èµ‹å€¼è¿ç»­å†™æ³•2
  props({query:{id,title}}){
		return {
			id: id,//k v ç›¸åŒï¼Œå¯ä»¥ç®€å†™ä¸ºid
			title: title//k v ç›¸åŒï¼Œå¯ä»¥ç®€å†™ä¸ºtitle
		}
	}
```

Vue Router replace ç¼–ç¨‹å¼å¯¼èˆª ç¼“å­˜è·¯ç”±ç»„ä»¶

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743752.jpg)

```
<template>
  <div>
    <h2>Homeç»„ä»¶å†…å®¹</h2>
    <div>
      <ul class="nav nav-tabs">
        <li>
          <router-link replace class="list-group-item" active-class="active" 
                       to="/home/news">News</router-link>
    		</li>
        <li>
          <router-link replace class="list-group-item" active-class="active" 
                       to="/home/message">Message</router-link>
    		</li>
    </ul>
    <router-view></router-view>
    </div>
  </div>
</template>

<script>
  export default {
    name:'Home'
  }
</script>
```

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743966.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743073.jpg)

Vue Router activated deactivated è·¯ç”±å®ˆå«

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743316.jpg)

```
<template>
    <ul>
        <li :style="{opacity}">æ¬¢è¿å­¦ä¹ vue</li>
        <li>news001 <input type="text"></li>
        <li>news002 <input type="text"></li>
        <li>news003 <input type="text"></li>
    </ul>
</template>

<script>
    export default {
        name:'News',
        data(){
            return{
                opacity:1
            }
        },
        activated(){
            console.log('Newsç»„ä»¶è¢«æ¿€æ´»äº†')
            this.timer = setInterval(() => {
                this.opacity -= 0.01
                if(this.opacity <= 0) this.opacity = 1
            },16)
        },
        deactivated(){
            console.log('Newsç»„ä»¶å¤±æ´»äº†')
            clearInterval(this.timer)
        }
    }
</script>
```

è·¯ç”±å®ˆå«

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743581.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743698.jpg)

ç‹¬äº«å®ˆå«ï¼Œåªæœ‰å‰ç½®è·¯ç”±å®ˆå«

```
//è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºåˆ›å»ºæ•´ä¸ªåº”ç”¨çš„è·¯ç”±å™¨
import VueRouter from "vue-router";
//å¼•å…¥ç»„ä»¶
import Home from '../pages/Home'
import About from '../pages/About'
import News from '../pages/News'
import Message from '../pages/Message'
import Detail from '../pages/Detail'


//åˆ›å»ºä¸€ä¸ªè·¯ç”±å™¨
const router = new VueRouter({
    routes:[
        {
            name:'guanyv',
            path:'/about',
            component:About,
            meta:{title:'å…³äº'}
        },
        {
            name:'zhuye',
            path:'/home',
            component:Home,
            meta:{title:'ä¸»é¡µ'},
            children:[
                {
                    name:'xinwen',
                    path:'news',
                    component:News,
                    meta:{title:'æ–°é—»'},
                    // ğŸ”´ç‹¬äº«å®ˆå«ï¼Œç‰¹å®šè·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨
                    beforeEnter(to,from,next){
                        console.log('ç‹¬äº«è·¯ç”±å®ˆå«',to,from)
                        if(localStorage.getItem('school') === 'atguigu'){
                            next()
                        }else{
                            alert('æš‚æ— æƒé™æŸ¥çœ‹')
                        }
                    }
                },
                {
                    name:'xiaoxi',
                    path:'message',
                    component:Message,
                    meta:{title:'æ¶ˆæ¯'},
                    children:[
                        {
                            name:'xiangqing',
                            path:'detail',
                            component:Detail,
                            meta:{title:'è¯¦æƒ…'},
                            props($route){
                                return {
                                    id:$route.query.id,
                                    title:$route.query.title,
                                }
                            }
                        }
                    ]
                }
            ]
        }
    ]
})

//å…¨å±€åç½®è·¯ç”±å®ˆå«â€”â€”â€”â€”åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨
router.afterEach((to,from)=>{
	console.log('åç½®è·¯ç”±å®ˆå«',to,from)
	document.title = to.meta.title || 'ç¡…è°·ç³»ç»Ÿ'
})

//å¯¼å‡ºè·¯ç”±å™¨
export default router
```

ç»„ä»¶å†…è·¯ç”±å®ˆå«

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743875.jpg)

![](https://gitee.com/hxc8/images7/raw/master/img/202407190743156.jpg)

nodeç®€å•çš„åˆ›å»ºserver

1 npm init

2 npm i express

3 æ–°å»ºserver.js

```
const express = require('express')

const app = express()

app.get('person',(req,res)=>{
     res.send({
         name:'tom',
         age:18     
     })   
})

app.listen(5000,err=>{
    if(!err) console.log('æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ')
})
```

4 node server.jså¯åŠ¨server

5 æµ‹è¯• localhost:5000/person

6 æŠŠå‰ç«¯é¡¹ç›® npm run build ä¹‹åçš„disté‡Œé¢çš„å†…å®¹æ‹·è´åˆ° server.js åŒçº§ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªå«staticçš„ç›®å½•ä¸‹ã€‚ç„¶åä½¿ç”¨express.static

```
const express = require('express')

const app = express()
app.use(express.static(__dirname__+'/static'))

app.get('person',(req,res)=>{
     res.send({
         name:'tom',
          age:18     
     })   
})

app.listen(5000,err=>{
    if(!err) console.log('æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ')
})
```

7 å¦‚æœvueå‰ç«¯é¡¹ç›®è·¯ç”±å™¨æ¨¡å¼æ˜¯é»˜è®¤çš„hashæ¨¡å¼æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå¦‚æœè®¾ç½®çš„æ˜¯historyæ¨¡å¼å°±æœ‰é—®é¢˜ï¼Œä¸èƒ½åˆ·æ–°ã€‚

8 ä½¿ç”¨ connect-history-api-fallback è§£å†³historyæ¨¡å¼åˆ·æ–°é—®é¢˜

9 npm i connect-history-api-fallback

```
const express = require('express')
const history = require('connect-history-api-fallback')
const app = express()
app.use(history())//å¿…é¡»åœ¨express.staticä¹‹å‰use
app.use(express.static(__dirname__+'/static'))

app.get('person',(req,res)=>{
     res.send({
         name:'tom',
          age:18     
     })   
})

app.listen(5000,err=>{
    if(!err) console.log('æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ')
})
```