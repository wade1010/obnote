由于 PHP 语言不支持多线程，因此 Swoole 使用多进程模式，在多进程模式下存在进程内存隔离，在工作进程内修改 global 全局变量和超全局变量时，在其他进程是无效的。





设置 worker_num=1 时，不存在进程隔离，可以使用全局变量保存数据





不要使用数组方式读写 Table，一定要使用文档中提供的 API 来进行操作；

数组方式取出的 Swoole\Table\Row 对象为一次性对象，请勿依赖其进行过多操作。





- 优势

- 性能强悍，单线程每秒可读写 200 万次；

- 应用代码无需加锁，Table 内置行锁自旋锁，所有操作均是多线程 / 多进程安全。用户层完全不需要考虑数据同步问题；

- 支持多进程，Table 可以用于多进程之间共享数据；

- 使用行锁，而不是全局锁，仅当 2 个进程在同一 CPU 时间，并发读取同一条数据才会进行发生抢锁。



请勿在遍历期间进行删除操作（可将所有 key 取出后进行删除）



