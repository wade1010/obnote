

如今互联网时代web2.0的兴起，使网站更多样化，动态效果更加完美，用户的访问量额不段的增加，高流量-数据量大-对网站的要求也特别的高。访问量上来了就会出现高并发问题，下



面就简单介绍一下高并发得解决方案，



1：硬件方面



普通的一个p4的服务器每天最多能支持大约10万左右的IP，如果访问量超过10W那么需要专用的服务器才能解决，如果硬件不给力 软件怎么优化都是于事无补的。主要影响服务器的速度



有：网络-硬盘读写速度-内存大小-cpu处理速度。



2：软件方面



第一个要说的就是数据库，首先要有一个很好的架构，查询尽量不用* 避免相关子查询  给经常查询的添加索引  用排序来取代非顺序存取，如果条件允许 ，一般MySQL服务器最好安装



在Linux操作系统中 。关于apache和nginx在高并发的情况下推荐使用nginx，ginx是Apache服务器不错的替代品。nginx内存消耗少 官方测试能够支撑5万并发连接，在实际生产环境中跑



到2～3万并发连接数。php方面不需要的模块尽量关闭，使用memcached，Memcached 是一个高性能的分布式内存对象缓存系统，不使用数据库直接从内存当中调数据，这样大大提升了速



度，iiS或Apache启用GZIP压缩优化网站，压缩网站内容大大节省网站流量。



第二，禁止外部的盗链。



外部网站的图片或者文件盗链往往会带来大量的负载压力，因此应该严格限制外部对

于自身的图片或者文件盗链，好在目前可以简单地通过refer来控制盗链，Apache自

己就可以通过配置来禁止盗链，IIS也有一些第三方的ISAPI可以实现同样的功能。当

然，伪造refer也可以通过代码来实现盗链，不过目前蓄意伪造refer盗链的还不多，

可以先不去考虑，或者使用非技术手段来解决，比如在图片上增加水印。



第三，控制大文件的下载。



大文件的下载会占用很大的流量，并且对于非SCSI硬盘来说，大量文件下载会消耗

CPU，使得网站响应能力下降。因此，尽量不要提供超过2M的大文件下载，如果需要

提供，建议将大文件放在另外一台服务器上。



第四，使用不同主机分流主要流量



将文件放在不同的主机上，提供不同的镜像供用户下载。比如如果觉得RSS文件占用

流量大，那么使用FeedBurner或者FeedSky等服务将RSS输出放在其他主机上，这

样别人访问的流量压力就大多集中在FeedBurner的主机上，RSS就不占用太多资源了

