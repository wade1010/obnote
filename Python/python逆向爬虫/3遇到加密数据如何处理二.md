[https://jzsc.mohurd.gov.cn/data/company](https://jzsc.mohurd.gov.cn/data/company)

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE14a2cfa8743f3040213de31aca3bb81e截图.png)

发现是可以翻页的，所以我们清空抓包数据，然后点击第二页

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE41641523735275801ad598279b87f618截图.png)

方向返回数据都是加密的

选择启动器 initiator

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEc775ba0c29a084a506af2b8940728aee截图.png)

如果看到这种异步，表明都是ajax处理的

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE99aa9f4c8faee8e8d5c571e6821563b3截图.png)

上图是视频里面的，我自己的没有。

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE41cd74afd970f4e4009760b0fe2bbc5d截图.png)

-------------------------------------------------修改显示调用栈开始----------------------------------------------------

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE1ff7ef66c81082057c4289b74463f306截图.png)

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE9dccc2303c222c7986f10bbf021b46cb截图.png)

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE6a2319c1d63cdaca589ac25744459b99截图.png)

--------------------------------------------------修改显示调用栈结束---------------------------------------------------

如下图，之前说过如果遇到动态加载的可以直接搜索关键字  JSON.parse

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEdd9a4ea2231276b061d1b7325f9592c7截图.png)

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE21a74e34e645ef72257349cd6c3bb8c6截图.png)

上图，发现搜索结果有3个，挺多的，这个时候可以用接口来交叉搜索，达到缩小范围的目的

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEf924c1d1efb4c635843074f4c29a59dd截图.png)

如上图，选用webApi 搜索后，就只有一个js文件。

进入该JS文件源码

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEc7caa54408f590098aa16a9af63f74ec截图.png)

再次搜索JSON.parse

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEb71132b04ca739f3c83a9dfd1858b2aa截图.png)

如上图，有两个结果，这里都打上断点。

打上断电后，再点击另外一页

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE483bfb0360c78ef69983935e8e4ab3d3截图.png)

点击后进入断点

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEc7cc3593b6599fc0d4492a28e7ee73ad截图.png)

这里就获取到了加密数据

尝试破解

新建js文件,data=加密的内容，自己从console复制

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE6c1afa956f12eb82800f30ff4152e63a截图.png)

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEea6f56d93b77dbb5b94c4f79e8f02799截图.png)

```
function h(t) {
            var e = d.a.enc.Hex.parse(t)
              , n = d.a.enc.Base64.stringify(e)
              , a = d.a.AES.decrypt(n, f, {
                iv: m,
                mode: d.a.mode.CBC,
                padding: d.a.pad.Pkcs7
            })
              , r = a.toString(d.a.enc.Utf8);
            return r.toString()
        }
```

复制h函数到js

发现d.a，可能是外部导入的库

然后视频继续往下就卡了。

再仔细看戏h方法，发现是des加解密算法

npm install crypo-js

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCEab845f2f2d204bc992214539f93ae382截图.png)

```
/Users/bob/workspace/pythonworkspace/quantaxisc/demo/crawlerAES2.js:6
        , a = CryptoJS.AES.decrypt(n, f, {
                                      ^

ReferenceError: f is not defined
    at h (/Users/bob/workspace/pythonworkspace/quantaxisc/demo/crawlerAES2.js:6:39)
    at Object.<anonymous> (/Users/bob/workspace/pythonworkspace/quantaxisc/demo/crawlerAES2.js:16:13)
    at Module._compile (node:internal/modules/cjs/loader:1099:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:975:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)
    at node:internal/main/run_main_module:17:47

Node.js v17.8.0
```

发现断点附近有f 和m

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE13d10f6692cb386c9577ed72733ff5b0截图.png)

复制过来

再次执行JS

大功告成

![](D:/download/youdaonote-pull-master/data/Technology/Python/python逆向爬虫/images/WEBRESOURCE4aaa0de4684ef72dd95128e7be01fe3e截图.png)

```
const CryptoJS = require('crypto-js')

function h(t) {
    var f = CryptoJS.enc.Utf8.parse("jo8j9wGw%6HbxfFn")
    var m = CryptoJS.enc.Utf8.parse("0123456789ABCDEF");
    var e = CryptoJS.enc.Hex.parse(t)
        , n = CryptoJS.enc.Base64.stringify(e)
        , a = CryptoJS.AES.decrypt(n, f, {
        iv: m,
        mode: CryptoJS.mode.CBC,
        padding: CryptoJS.pad.Pkcs7
    })
        , r = a.toString(CryptoJS.enc.Utf8);
    return r.toString()
}

data = "95780ba0943730051dccb5fe3918f9fe1b6f2130681f99d5620c5497aa480f132da57f514f3801ef98d5e9f6ba89da691302d600a559762b7f93b6481212b13e05843f399c271ba7538196124c397d78e105e2d64cad5d39c1398d252582bd858f0ea80deb88d06d01f1a010b5b20448cce88939216c3c7699ae552d356e82bdfecf8089f465aa397dfec24c5c6806f0c8602b5ae13dd7bc7174521badd0ce62fc23317b83879ce85168ff12de3506fcf2bccb72c36ce0a177fdc0d150c02f71b41e92d5330bcf0470860d092e1c76e1e5d954b4a61babd35bb8e89a3aea16b4dd163d0209699b1e4f47bf91a446c9a9ee93b73df16647c843a9f06b893e4bdda780be0ec079efed54752c589f74d11dd18b6f6c1a733407eace8b6efb7682e9c344c0d61500c0580af58718bdd98713e9c1b8c92037ab19cd38d325c279a1b186f9b1150fcc19f3016d6ab1eba3a62b4a0d9032328149b96d6a0bd140da4c30fe9fe79ce0ddcde7826b2fc1caf1a680ea4b55b9fbd111c4e679f85cf8c325b267467576908399743a57d46a7bf27052540e8ffc3bdbc4584cc2a1337f88970ecffae1fb686b484323e3b6dee210c7341374b4d69da1283926038a9f4a1ed42bb358bedeca8771f81a355a8589679c8e535684f3b68999e572056393b054f664bb2a00be124272b41801b6bd20a6653b21588139a9ca0f3d05c8664e3944e25e31a70b1f847a7ccf1015ca8cabc3557ca8fda904fbddf5a80bdba3c4ddecb8e41e4125fbb0ce1af5a40ce56314162141f829d55822dcaf700726d4412c004f131e0a46a478311860049443aaf5cdbf11aaf6f32e918b1c4bc13499c9e08bbc20bfbf41f71ee251e6bd39c06158bb9e05331ab0f1e5fa54e4b914c3131a8ff738712192226399b957c9c0ca9d7720149e0637f1977650a7cb798c0992629e98f76566b4adc0a8b480cd681c6a9cbad187d792dead32b50736f4d16eed04b97537df3e42349e415f8bbfc6207ecae0756e4252fe9fd89927a4e6afc09107548c58754f2bdce82f76913815ebd3300d81b1e7aa067a7769c236687d95993b8b9ec18ad9dba3135e9eefb3e41a51de002f7ee40640f1b80d4d13054776a50ff421c835e54f330ff2f32da6c7976e361f03df3e1a1945ac9295dbe643b66cb5bc56981ac4e51bbbf46fb094ef86652c4e32c70cc7ffea2fc40854fcefe54d80ea809bbc881ad7c9607d4f14b847b4c7cbdbdf07043dbffd672b20bce0b8e73c6c325c32a5d4eab7ee41af5ff970e41a7358d65d1f40d8fde49d1e1b4355c9037cf6172dab2eff79d421f2ffafaf8b43910db50e38c038d9819a83af93426f68671a3b94be1a79f99469286c012a228324a95ed94759481d1cd40f234442a9815809d45632dec71348357f9be0cb33f83931d483f17c7065099f30afcc53a59d2fa9c2a7f4b7321f59ac4f4d16de902bed3263bd39818658bff4cd18caaa96faec7cb4a488449b2e51dd3e6858c0b20e4201a9e791c45eb604f084df135b15298584e2053f3c208c1c9ec9da588793b2c937508c290bd00088fdb3ee8ff2d7d420f7c86058ab7ce7b95af6f590528c626f6f716a681823580f51c4aa8f36d340a8eb36d94ef8e1af54d30e6206a63c526d691ac4817d9cb5635a38241fc3ce7158a8f62d05cb5083d6c43951aba69644e61633c177a99b76ffd8c2bc77a7f3e1197d8f607c12aba773eaacf4de1fbfd3330a7c29294f104d742034699befdcf8f21d7ef9824da287c156b7e77a7fbb10c275895eb02b77903455b9768317fff64a542bc7e2be45010ec4add02f747f674fa30e20e1301ada9ff1885b5aa6ac0ebb3a6916b9d48b21ab11a0a3db34643041f1af03c6454f4032c3a25a06132257a30174d7ec8a0eadffd434c6de79dd742795c92eec51e26d150380ac4ef96c80d851d74bea35767ad91e045464ccd199d5c803ca93c5ea845f2226c1822885ca8a8fe243aa449e4272f2b8a1ea23e01e2c69ef45805ab86c00bb03af45417aa60381c38c24b5369e0c6cc11b1be68f01f325286c604ab5334c4116930903f3374827c6527421569303d4d116ad050808061cf31cc4dacf8956eef5207dd74dddcd7dc98f93569a9c59d7511610e71364eeec50e316431aed69699e9ad3edb84cb692fc65970bd4f018304fd62fdd7f0e051502b954b132cef1b78a739b96e2da6639bf396b279356f67ffc62a520beff7573a3493d5a5afd44e33b7296fd243baf89ced65a2e0020d4c1187841e2d4607c3d652f2100487e7dec75734df598057cd26d7eb220e44258874f736ee78519c609b5f99814c9410a00757abeafe7e43251f2c3833907c52059fb0bba12afe3d3ffb6755a371f35f70ed5b2be2a8fd91b5e42ab9db4c72ddca7349e67fa0c453f50312dc55ac39f5e24838f474374f9418580136664082416df10d0d3ced1b9d9c46c52850ee52a420ebc5d38f502c76c783ce8b05f6bd172e71b2cfab2b254f2aedb81b390e483882272bdda4143accbe9fdecbe1528a7e41f4fb9cbe84c7bbb2d893f329523d46a2abccd31eccc6b4f81cb98cf6b9e50d872a0a15d655298a44e1c52e08622e5291675a73bbb11503fa010ff2f93986faa02beec64f5e3efc4af1602aeeec8db2e72a60c390cf8c311d9d1d61657a4956fa82e966485aacae3c2a7c332ed3aaf4fadda59f497d7be3896ecdcab710ed87063c2ded0f5f0dec844c192e640717be7c164593bbc88c735443fba551a6b5538e8aefbd947c9c6634b9a08bd65b3ede5f505c940932850146322795c60c72b6cdcae61cc5535907ba78015a3204a035c62c29d118a268dec3a8298d843feb89d05557252617922fad5adea257aab04a9630de2a439b05efddd13f9c2dc6d3e3ef667d411afaae5d6bd4bbaff2e8bebacf35088e66b8edd9b1dd61d530514958de72b649d6ccce7fc24b74123e3d043688a7e926d41143a5c8c63d0c4f8334746be74edfb809c924a612bbfef6b22c79fa37daf78fe85f5e011e12e6e64f3f6242d986bce867e201c6d49a66735815fdf2ee738f403862040092ff330ed200f3aa5a729faf492d81802be2dcc3d8cfabdacc2eb9cf4c826a789a363693d24121c8f06e5dc0d34c09425f369c2c59165c354cb4068b4f71e6b590ac7b5fcf59a881dac12f3ddd8e6f479f9ea067271968fddc871b163c9b3a478b6fb72aa737dff0f346ce225b08f0928868dfb8f1621cf814d3a24b90314f4dbbb00b31129bb811bded4620e07363e30e43716ceb44eb421fefa511dfec3c765eacb64c9bb73f38f42ccaedc6d304c526d76c823e1daafbbc1b385380ca067beef71999e9c7cec4f376a9688ab238d91e93821c722e31887d6ffcf2895a91c8f98d92e4b04738a9c7714b1770ba2055f7eb00500c99dd3a92db6981fbcfc6a16aff5178d5b8688ccda8b6af0726bc55410a0ca36a9e18c744728ddcae9fc526d1c6edc8ce42438b2e9a8ea7ce8781e59607b819806b42ad6a59b28ca45c214fb46ebd722adf0eca47fbe3c726b5e1380b25dad20126cc38e1c5c78be429fa0a51114bab0260249d62a7ae2c84beb8aaed4d5609cbd8ac7705cc465ad21126112d1d5c9d5948be6776e68877abfe0b591fd321d3ce28b358c84293efcd7efd94442a8765f6e2942d6830ead173d86c8e54f96dd2fe69dbfc9784c146d3bed433187548105d1f043f2ea36943743aa13758fe6220b4e619fcd769239c5c7688e1156981e5b40e49931488b7392c8341c6b7c2f737a0242b6e305b92e7905f41cbf277750150c009b479613b3124c0fa7430d59c649690f7bbdb3eaffdd532a5114b5a600c27f03c06e69833f6f6c889975285885e8594015d46ce6eb98264a96628533524000d82fdf67a60d4bf309f5cd3c1171466d8896c90c3a32d3f3a97494dc85f3d7c3e98f0dbf51c3ce902bc29d1631c9131cd57a07c14c171876e7bb982ef24c43c18af898e7bf7d6e77e6121e18f272425fe815b32bdade28176b3f09fc24933c1ef40a286443b581dc190267afb5a57f40a8338d507856b04e9fbf2d175d50b1d88e4b24a64878ae8ebe4b8bf383f7c4b9dee91f4d23070e9cf2980200d630857ba4ae673fe354895908de3e31458555ec851bbb4f0a10ff0cb36683829b57db32846a29714406e65454f6f53c91ad76ef45a5eee4674f850a3ead4668201ff605697632f46a99cbc41952423cea0965c460329bc9aa14a081d42765a6386f57e3425bfb7c9df888b6c94bba4de41aa64c3a0e8429cfdc018f7363c702bae52982c976fcf26b726991312cab66a36267c6a5154d1242870d49006b99e08bf7c53066b1ba0b8cf1a24a1d18d81cefb760186c99b79cd2f3d2d6cb6dbc7d6ceb735271ab140169a503e56f0ce0ed55bc0aa0844e4e410c0f04b493bd5deeff3abdd8074d2fcb8e442ae3eb52474816662b3d08b7479d5441732e0d963a9b126adc872819b53a0e9cf49ca42c9c21ab2aa290ee5df4989f6f61acfbc5d52b6059be99b2502385eb90edbd2c2ce97521de76968bf2d1461e5b25e5ec33e2ec0eb9e6e1be3b85f208b116feb7c20746b41cd772f0e2ea68cfa1b5efe0669ba48830a327ab6daaa2858c762dd21ba7969175ea9f3c4f93b1a749c45cb8b76905bcd1699534960f02f6742f58bd1da21d74c58f6092264eb905bc27fef8d075e26398830a3e5e40236dce0926b25d281707967cbeb56befc5b3ce816a5bfaba858640fb53fd1c91ef20307cac5f7e072e228730b6ea6cea2edc6a85cdbc98dc1d74aee832a02f4f5d29cd3fb01bb2dab99a7a37743969d5d36f3267de7ca467f82d734da399ccc85daf68bb57f5d73ec99f9cdefa45a8d0a0cdec38ab159436f37fea97e5b40c02926fa00cc86cb0736ce31f0bec577a15ab67097f494226d654bc1a1981dd44860cc2e18fcf71b1f8148a35afc3cb6baafe75c3139ab4cc951ed4a7e806b8e1d4e7afc716ec6820bd2639420c5c30082ae4c5c301043b35501de5d56b31f838da5f766210fce4e9b0bc3b10e217ffe2d39ab590302000dae362bea88cbe6e5f8d138ff265491977d7dd9916727be5d086dabc228a4ca2f3726efe6620b42d4c757257f245d87dddf55d42d1ce9ef215efdd87556f80738f9ad22206d17fad1b3d78fc3b534916e3f6c36a5887c03b2b349dc0b3cd2bc2f62c943007ed6badcc156d698599bb88e4937c2c07bb07eaebc0aa06a3e5f38486c1fb42e749c988ba355ed86bf6b1eda2bc0aef80fed47f865c5a14ec61503be438a824ee8c1ea2f822e224ddbe0d7d747384d268e1b3b2dfbd4ef6c21d25bafeae0c9a38ec491917cb9234f9ac6f8cfb473ce198bd2a7c22461b64fd0688f45170d26e30fc8ae7095ad10ed8bdd3bd4856ccdabc69517aa57f0575fb0032c64f78a5ec742dd5c1d861a143d0a2959bfd8c8cadce3994b2ba58f038ec58013ad40c156fb4dd83d4336b6fb02047e5c201b0c02ef1acfb925390ede6763fbfd69c70dc950597054fc6e22ba5393c0a0c2a615e26be31e14be027d62c656b02284951cdf243f2053a15447a50fe9032f5b391b0b97834bd39bad8cd6a94ea3d8ff2ab73f12b8339d7af422a89b9400615b95e59ca7751bd3921e4cdc744583c04bd7786bc8546025ae3c72b5f4c1d562ac45048c3a1456b8c038d8d363b71a62d1f0d63dc3c3373ac76c702b46e7d538b35225c82cf1ccf4407e1f299ea076fd436a0f65048908ac6bbf36e4b5054a0dc3519a18d71997764cc04cec1c53fdb8fb237f13fe92bd18501a5aa9218e5c6b19d5caab653505bfce439543c356806d48875e64025d4f9c2a7c4758a8a7715a6b8a2c264d544b15c02fd7d74a5bfb5feaf82f153b5844f699579e9d984b9b11aa5e60cc3c523f9c68963fe7d12b9b922dd901729e78609e4cf26508fdf003824bc8891f2c83727250a5f4e651f2c0afaa62837b37378c4b062ca33ea4edec5350b5e2b6366ddd329c36eb0dc9000ab49fe5c900cda8878e6a32d2a58aa10604fafa3dfd3467a592840edb9e9f74d84dca4a60a6cde27b36fa984f13cc2334d3fd037954e7a3d28ec825a415b12fca896e71e79e0c0afd173a180d258e50467a6231e8914922d672cc24ee6e8c9280df836a1767c236306d6b9e1095baeea9447e5bd5a4bf70ef7cf3b505cfe73871802c972906a5756081cd399f9add251b8cf2ce71e18bcdbf0f36f581a333f8a50a68cc08982833598af356ac6960f25b31108bd0c08a816038f3d1093de1b586eb4da875fcc020186b93ab907d77b35ca58e2f41524e85abef7a7bbfa95595ca4ee7d5c3902f4f5a306746cca52d55071e849bad61033ed5d9e860c775e6be1cd843bf3eea66cc02c1c79d9cae399e1f40757a5a66dbbe444020035beac3844c55e2400c01d71ff73b917a042c1d35dcd897648b1"
console.log(h(data))
```